/*
 classification: PROCEDURE TASK
           name: Update NPM License
    description: Update license field
         author: Fantasy UI - https://github.com/fantasyui-com

*/

// Load Modules
import {inspect} from 'util';
import setNpmLicense from './code_modules/set-npm-license';

// Example interface

export default async function main({ context, setup, input }) {

  const debug = true;

  if(debug) console.log('Input for: Update NPM License - Update license field')
  if(debug) console.log(util.inspect(input,false,2,true))

  // Prepare the outout object
  const output = {
    someList:[],
  };

  return async (resolve, reject) => {

    // TODO: customize this to match your code
    for (const element of input.someList) {

        // Set npm license: Apply new license to the license field in package.json
        if(debug) console.log('Calling setNpmLicense')
        const setNpmLicenseData = await setNpmLicense(setup);
        if(debug) console.log(inspect(setNpmLicenseData));

    }

    resolve(output);
  };

};
