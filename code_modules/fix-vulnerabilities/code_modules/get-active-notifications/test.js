/*
 classification: PROCEDURE TASK
           name: Get Active Notifications
    description: Get all active github notifications as JSON
         author: Fantasy UI - https://github.com/fantasyui-com
*/

// Load Modules
import {inspect} from 'util';
import getGithubNotifications from './code_modules/get-github-notifications';
import cleanupNotifications from './code_modules/cleanup-notifications';

// Example module interface
export default async function main(context={test:true}){

  try {
    const debug = false;
    const result = {};


    // Get github notifications: Connect to github using token and get JSON data
    // TODO: you should configure getGithubNotificationsExpected
    const getGithubNotificationsExpected = {};
    if(debug) console.log('Get github notifications: Connect to github using token and get JSON data');
    // const getGithubNotificationsData = await getGithubNotifications({context={}, setup={}, input={}});
    if(debug) console.log(inspect(getGithubNotificationsData));
    // assert.equal(getGithubNotificationsData, expectedBytes);

    // Cleanup Notifications: Remove unimportant information from github response
    // TODO: you should configure cleanupNotificationsExpected
    const cleanupNotificationsExpected = {};
    if(debug) console.log('Cleanup Notifications: Remove unimportant information from github response');
    // const cleanupNotificationsData = await cleanupNotifications({context={}, setup={}, input={}});
    if(debug) console.log(inspect(cleanupNotificationsData));
    // assert.equal(cleanupNotificationsData, expectedBytes);

    // Return Result
    return result;

  } catch(error) {

    console.error(error);

  } // end try/catch

} // end function main ()
