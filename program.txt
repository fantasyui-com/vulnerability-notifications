Program: Vulnerability Notifications - Attempt to update npm packages marked by github as vulnerable
Author: Fantasy UI - https://github.com/fantasyui-com
Keywords: fantasyui-com vulnerability notifications update npm packages

Procedure: Fix - Attempt to fix npm-packages.

  Task: Verify Github Access via curl - Use a github access token to pull in notification data.
  Task Parameters: {cache: '3 hours'}
  Task Dependencies: request

  Task: Verify Github Access via git - Test if the computer is authorized to push to github
  Task Dependencies: shelljs, path, fs

  Task: Get Active Notifications - Get all active github notifications as JSON

    Action: Get github notifications - Connect to github using token and get JSON data
    Action Dependencies: request

    Action: Cleanup Notifications - Remove unimportant information from github response

  Task: Select Vulnerable Repositories -  Skip unrelated notifications

  Task: Select Npm Repositories - Select repositories in npm format only
  Task Dependencies: path, fs

  Task: Clone selected repositories via git - all updates are performed on the local system via standard utilities
  Task Dependencies: shelljs

  Task: Run npm update - Update NPM Package using npm-update
  Task Dependencies: npm, path, fs

  Task: Update NPM License - Update license field

    Action: Set npm license - Apply new license to the license field in package.json
    Action Parameters: (license='GPLv3', bork: true)
    Action Dependencies: npm, path, fs
    Action Test: Expect the license field to be GPLv3 - {key:'license', expect:'GPLv3'}

  Task: Run standard npm update - Ensure all packages are up to date
  Task Dependencies: npm

  Task: Npm Audit and Fix - Perform NPM Audit using npm
  Task Dependencies: npm

  Task: Publish Package Update to npmjs - save data to npm
  Task Dependencies: npm

  Task: Publish Code Updates to github - save data to github
  Task Dependencies: shelljs
